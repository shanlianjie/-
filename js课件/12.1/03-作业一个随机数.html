

<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<select name="" id="fruit">
			 <option value="">香蕉</option>
			 <option value="">苹果</option>
			 <option value="">橘子</option>
			 <option value="">梨子</option>	 
		</select>
		<input type="button" value="随机"/>
		
		<script type="text/javascript">
		
		
			var fruit = document.getElementById("fruit")
			var options = fruit.children
			var btn = document.getElementsByTagName("input")[0]
			
		
			//记录当前被选中的option的索引
			var currentIndex = 0
			
			btn.onclick = function(){
	
				//生成一个随机数（范围：[0,options.length-1]），作为索引，决定让option选中
				var random = Math.floor(Math.random()*options.length) 
				
				//判断生成的随机数是否与上一次的随机数相等，如果相等，就一直生成新的随机数，
				//直到生成的新的随机数与上一次的随机数不相等位置
				while(random == currentIndex){
					random = Math.floor(Math.random()*options.length)
				}

				options[random].selected = true
				
				//记录当前生成的随机数
				currentIndex = random

			}
			
			console.log(currentIndex) //0
			
		</script>
	</body>
</html>
